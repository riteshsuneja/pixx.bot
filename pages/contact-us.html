<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTACT US | PIXX.BOT</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- Main Metrics START -->
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "vh37zibwzu");
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6D1SGD1G25"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-6D1SGD1G25');
    </script>
    <!-- Main Metrics END -->
</head>

<body>
    <div id="header-placeholder"></div>

    <main>
        <section class="contact-hero">
            <!-- LEFT SIDE: TEXT -->
            <div class="contact-text-side">
                <div class="hero-label mono">/// CONTACT_SYSTEM_v1.0</div>
                <h1>LET'S <span class="h-acid">CONNECT</span></h1>
                <p>Ready to transform your event experience? Reach out to us and let's discuss how PIXX.BOT can elevate
                    your brand presence through high-tech interaction.</p>
            </div>

            <!-- RIGHT SIDE: FORM -->
            <div class="contact-form-container">
                <form class="contact-form-side" id="contactForm" onsubmit="handleFormSubmit(event)">

                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" placeholder="John Doe" required>
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone *</label>
                        <input type="tel" id="phone" name="phone" placeholder="+1..." required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" placeholder="hello@pixx.bot" required>
                    </div>

                    <div class="form-group">
                        <label for="contact_method">Preferred Contact</label>
                        <select id="contact_method">
                            <option value="Email">Email</option>
                            <option value="Call">Call</option>
                            <option value="Text">Text</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="event_type">Type of Event</label>
                        <select id="event_type" onchange="toggleOtherInput(this.value)">
                            <option value="Wedding">Wedding</option>
                            <option value="Corporate Event">Corporate Event</option>
                            <option value="Exhibition">Exhibition</option>
                            <option value="Other">Other</option>
                        </select>
                        <input type="text" id="other_event_text" placeholder="Please specify..." style="display:none;">
                    </div>

                    <div class="form-group">
                        <label for="guest_count">Guest Count</label>
                        <select id="guest_count">
                            <option value="0-50">0-50</option>
                            <option value="51-100">51-100</option>
                            <option value="101-150">101-150</option>
                            <option value="150+">150+</option>
                        </select>
                    </div>

                    <div class="form-group span-2">
                        <label for="message">Project Details</label>
                        <textarea id="message" rows="4" placeholder="How can we help?"></textarea>
                    </div>

                    <button type="submit" class="btn-primary">INITIATE CONNECTION</button>
                </form>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>
    <script src="/js/scripts.js"></script>
    <script>
        const GOOGLE_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSePW3cXveDaScfdPXPDlklGHYEwTgNbIZ_BBdjkUiusUX0POQ/formResponse";

        function toggleOtherInput(value) {
            const otherInput = document.getElementById('other_event_text');
            otherInput.style.display = (value === 'Other') ? 'block' : 'none';
            if (value === 'Other') otherInput.setAttribute('required', 'true');
            else otherInput.removeAttribute('required');
        }

        async function handleFormSubmit(event) {
            event.preventDefault();

            const formData = new URLSearchParams();
            formData.append("entry.483258784", document.getElementById("name").value);
            formData.append("entry.985905913", document.getElementById("phone").value);
            formData.append("entry.918506104", document.getElementById("email").value);
            formData.append("entry.935714813", document.getElementById("contact_method").value);
            formData.append("entry.971011536", document.getElementById("guest_count").value);
            formData.append("entry.78738992", document.getElementById("message").value);

            const eventType = document.getElementById("event_type").value;
            if (eventType === "Other") {
                formData.append("entry.308252899", "__other_option__");
                formData.append("entry.308252899.other_option_response", document.getElementById("other_event_text").value);
            } else {
                formData.append("entry.308252899", eventType);
            }

            try {
                await fetch(GOOGLE_FORM_URL, {
                    method: "POST",
                    mode: "no-cors",
                    headers: { "Content-Type": "application/x-www-form-urlencoded" },
                    body: formData.toString()
                });

                alert("Form Submitted Successfully!");
                document.getElementById("contactForm").reset();
                document.getElementById('other_event_text').style.display = 'none';

            } catch (error) {
                console.error("Submission error:", error);
                alert("Submission failed. Please check your connection.");
            }
        }
    </script>
</body>

</html>